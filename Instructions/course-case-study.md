# ケース スタディ– AdventureWorks Cycles

AdventureWorks は、自転車と自転車部品を顧客と販売代理店に直接販売しています。現在、会社のオフィスはオランダに 1 つだけあります。米国、ドイツ、スペインでは、販売代理店のチェーンと Web サイト上のオンライン販売を通じて自転車を販売しています。配達は、地元の配送センターが行います。

会社は、過去 3 年間でいくつかの国での売上が伸び続けているため、新オフィスの開設による拡大を計画しています。その場所は次のとおりです。

- 東京 (日本)
- シアトル (米国)
- シカゴ (米国)
- ベルリン (ドイツ)
- バルセロナ (スペイン)
- パリ (フランス)

AdventureWorks は過去 15 年間、競争の激しい市場でビジネスを展開してきました。同社は、最も革新的な自転車会社になり、同社の自転車を持っている人と購入を考えている人に、ユニークな体験につながる一流の技術とサービスを提供したいと考えています。

AdventureWorks の研究開発部門では、これまで順調に次世代の革新的な製品のアイデアを生み出してきました。データ エンジニア、AI エンジニア、データ サイエンティストなどの力を借りながら、そのソリューションの具体化と実現に貢献しています。

売上の伸び具合とグローバル規模での拡大を考えると、既存のデータ インフラストラクチャでは、全体的なビジネス要件や AdventureWorks が目指す将来の成長を満たせません。IT 担当役員は、予想される成長に対応するために、既存のオンプレミス システムを破棄してクラウドに移行する意向を示しています。既存のインフラストラクチャは寿命を迎えるにつれてハードウェアの交換が必要になるため、この意向は財務担当役員も支持しています。財務担当役員は、クラウドがよりコスト効率の高い代替手段となり得ることを認識しています。

あなたは、シニア データ エンジニアとしてソリューションの具体化と実現を支援し、AdventureWorks が成長、拡張、イノベーション戦略に成功するために掲げた事業的、機能的、技術的要件をかなえることに貢献します。運用コストを最小限に抑え、有効性を確認できる形でこれを実行します。

ディスカバリー ワークショップで、次のことがわかりました。

## AdventureWorks の Web サイト

AdventureWorks の Web 開発者は、既存の Web サイトをオンプレミスの IIS インスタンスから Azure Web アプリに転送しています。Web サイト上で販売している製品の画像を保存するために、データ ストアを利用する必要があります。

## 現在の販売/発注システム 

自転車の購入を追跡する現在のソフトウェアは Web ベースのアプリケーションであり、AdventureWorks2012 という名前のオンプレミスの SQL Server データベースに注文情報を直接格納します。現在のアプリケーションは、SQL Server 2012 の Always On 可用性グループによって提供される高可用性でデプロイされています。AdventureWorks では、グローバルな拡大とデータ ガバナンスの必要性から、このシステムを作り変えて顧客により良いサービスを提供しようとしています。また、販売と注文に対応できるように、アプリケーションとデータのグローバルな可用性も必要としています。特に、自転車の需要が増加する、休暇前の 11 月と 12 月の可用性が必要です。

## データ分析

ビジネス レポートは、現在、データ ウェアハウスである単一のオンプレミス データベースで提供しています。その中にある AdventureWorksDW という名前のデータベースで、過去に使用したレポートや説明付きの分析を提供しています。最近では、このサーバーではレポート データをタイムリーに処理できなくなってきました。その結果、Azure Synapse Analytics のデータ ウェアハウスとしての機能を評価し、オンプレミスのデータをこのプラットフォームに移行したいと考えています。データへのアクセス制限も確実におこなう必要があります。

いっぽう AdventureWorks では、データ分析をさらに進めて、予測分析の機能を活用し始めたいと考えています。今は予測分析を行っていません。会社では、推奨事項やテキストの分析エンジンを構築できることは理解されており、回復力がありパフォーマンスの高いソリューションを実装するために、取るべき最適なテクノロジとアプローチは何かをあなたに示してほしいと考えています。

あなたは、データ ウェアハウスへのデータの抽出、読み込み、変換に役立つツールも評価します。製品の変換機能を調査するために、チーム内のデータ エンジニアに Azure Data Factory の概念実証を依頼しました。

## カスタマー サービスとプリセールス

カスタマー サービス部門とプリセールス部門では、現在、通話量が多いため、規模の問題が発生しています。チャット ボットを実装して、顧客サービスのスタッフが通話を処理するのをサポートしたいと考えています。これを実装すると、自転車の購入を考えている人は下記のことが可能になります。
- 最適な自転車を見つける:
    - チャット ボットでの一連の質問を通じて、自転車の購入を考えている人に応じたおすすめを提案されます。そのおすすめを受け入れて注文する場合もあれば、要望に応じてより専門の販売担当者に引き継がれる場合もあります。
- 注文状況を確認する。
    - 現在の注文の状況と、配送にかかるであろう時間を確認します。
- 所有している自転車に適した部品を見つける。
    - 自転車を持っている人は、自転車のシリアル番号またはモデル番号に基づいて、おすすめの自転車部品やアクセサリーを見つけることができます。
    - 自転車を持っている人は、自転車やシリアル番号の写真をアップロードすることにより、その自転車を特定し、おすすめの部品を知ることができます。

ここ数年、カスタマーサービス部門では、保証対象ではない自転車や AdventureWorks で購入していない自転車の不当なサポートを求める顧客からの電話が増加しています。同部門では現在、顧客サービス担当者の経験に頼って要求の正当性を確認しています。そのため、不当な要求をする可能性がある人物を担当者がリアルタイムで追跡できるシステムを実装したいと考えています。

最後に、グローバル展開を考えると、顧客サービスやプリセールスのチャット ボットは、顧客の所在地に関係なく、ほぼリアルタイムでデータの要求に対応できる必要があります。チャットボットは、オランダ語、ドイツ語、フランス語、英語、スペイン語、日本語など複数の言語をサポートする必要もあります。チャットボットは AI エンジニアが担当する作業ですが、会話履歴を保存できるプラットフォームを提供してほしいとの要望がデータエンジニアに対してありました。

## ソーシャル メディア分析

近年、組織のマーケティング部門では、1 年を通じ不定期に様々なキャンペーンを Twitter で実施しています。マーケティング部門では、こうしたキャンペーン中にハッシュタグなどソーシャル メディアの有用な機能を追跡することによって、キャンペーンの影響を測定したいと考えています。そのため任意の名前のハッシュタグを追跡する機能を必要としています。

## コネクテッド自転車

AdventureWorks Bicycles は、自転車の自動ロックや運転状況などの機能を含む、革新的な組み込み型の自転車コンピューターを搭載できます。この自転車コンピューターは以下の情報を取得します。

- 自転車モデル、シリアル番号、登録所有者
- 自転車の場所 (経緯度)
- 現在の状態 (停止、移動中)
- 現在の速度 (km/h)
- 自転車の施錠または解錠の状態
- 自転車の部品とコンポーネントの情報 (電動自転車)

ファースト パーティとサード パーティのアプリケーションは、自転車コンピューターの情報にアクセスできます。その情報はセキュリティで保護されている必要があり、モバイル アプリケーションへの統合、および位置情報と自転車シェア利用情報のリアルタイム表示に使われます。 

さらに、日次統計情報をフラット ファイルに保存できます。データには自転車モデル、シリアル番号、登録所有者、1 日の合計走行距離と平均速度などのサマリーが含まれます。

## 自転車のメンテナンス サービス

自転車を持っている人は、自分の自転車の修理が必要であるという、以下の情報に基づいた通知を受け取ることを選べます。

- センサー データに基づく電動自転車からのテレメトリ
- 組み込み型の自転車コンピューターから提供される、平均走行距離または摩耗や損傷に基づく自転車の使用状況に関する情報

この予測的なメンテナンス サービスは、自転車の所有者が任意に加入できる有料サービスです。

最後に、提案するすべてのサービスは、包括的な事業継続性を備えている必要があります。事業継続とは、あるサービスのデータを回復する際の復旧時間を最小化するという企業目標を満たすことです。